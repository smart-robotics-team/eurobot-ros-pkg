<?xml version="1.0"?>

<launch>

  <!-- Low level motor driver => RoboClaw -->
  <node pkg="carry_navigation" type="carry_drive_roboclaw" respawn="false" name="PETIT_RoboClawDriver" output="screen">
        <remap from="/cmd_vel" to="/PETIT/cmd_vel" />
  </node>

  <!-- IMU for PETIT robot -->
  <node pkg="um6" type="um6_driver" respawn="false" name="PETIT_imu_driver" output="screen">
        <param name="port" type="str" value="/dev/ttyUM6" />
    	<remap from="/imu/data" to="/PETIT/imu" />
  </node>

  <!-- Position estimation node -->
  <node pkg="common_odom_estimation" type="common_odom_estimation" name="PETIT_odom_estimation" output="screen">
    <param name="enable_imu" value="true" />
    <param name="enable_fake" value="true" />
    <param name="enable_beacon" value="true" />
    <param name="parent_link" value="world" />
    <param name="child_link" value="petit_base_link" />
    <param name="poseX" value="1.0" />
    <param name="poseY" value="1.2" />
    <param name="theta" value="1.57" />

    <remap from="/init" to="/PETIT/init" />
    <remap from="/imu" to="/PETIT/imu" />
    <remap from="/cmd_vel" to="/PETIT/cmd_vel" />
    <remap from="/beacon" to="/GROS/beacon_pose" />
    <remap from="/odom_est" to="/PETIT/odom_est" />
  </node>

  <!-- Arduino on the Odroid-U3 -->
  <node pkg="rosserial_python" type="serial_node.py" respawn="false" name="PETIT_Odruino" output="screen" args="/dev/ttySAC0">
        <remap from="/servo1" to="/PETIT/servo1" />
        <remap from="/servo2" to="/PETIT/servo2" />
        <remap from="/servo3" to="/PETIT/servo3" />
        <remap from="/servo4" to="/PETIT/servo4" />
        <remap from="/servo5" to="/PETIT/servo5" />
        <remap from="/servo6" to="/PETIT/servo6" />
        <remap from="/servo7" to="/PETIT/servo7" />
        <remap from="/servo8" to="/PETIT/servo8" />
        <remap from="/servo9" to="/PETIT/servo9" />
        <remap from="/servo10" to="/PETIT/servo10" />
        <remap from="/servo11" to="/PETIT/servo11" />
        <remap from="/servo12" to="/PETIT/servo12" />
        <remap from="/servo_speed" to="/PETIT/servo_speed" />
        <remap from="/enable_servo" to="/PETIT/enable_servo" />
  </node>



</launch>
